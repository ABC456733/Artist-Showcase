<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Artist Showcase — Demo</title>
<style>
:root{--bg:#0f1724;--card:#0b1220;--muted:#9aa5b1;--accent:#7c3aed;--glass:rgba(255,255,255,0.04);--header-height:64px;--base-font:18px}
*{box-sizing:border-box}
html{font-size:var(--base-font)}
body{margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial;background:linear-gradient(180deg,#071022 0%, #0b1220 100%);color:#e6eef6;min-height:100vh}
.btn{background:var(--accent);border:none;color:white;padding:8px 10px;border-radius:10px;cursor:pointer;font-weight:600;font-size:14px}
.btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06)}
header{display:flex;align-items:center;justify-content:space-between;height:var(--header-height);padding:10px 18px;background:linear-gradient(90deg, rgba(255,255,255,0.02), transparent);backdrop-filter: blur(6px);position:relative;z-index:1000}
header h1{font-size:18px;margin:0}
header .nav{display:flex;gap:8px}
.btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06)}
.btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06)}
.wrap{max-width:1100px;margin:24px auto;padding:16px}
.grid{display:block;gap:20px} 
.panel{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);font-size:16px}
.profile-card{display:flex;flex-direction:column;gap:12px;align-items:center;text-align:center}
.avatar{width:88px;height:88px;border-radius:12px;background:var(--glass);display:flex;align-items:center;justify-content:center;font-size:26px;color:var(--muted)}
.small{font-size:14px;color:var(--muted)}
.form{display:flex;flex-direction:column;gap:10px}
label{font-size:13px;color:var(--muted)}
input[type=text],input[type=password],textarea,select{background:transparent;border:1px solid rgba(255,255,255,0.04);padding:10px;border-radius:8px;color:inherit}
input[type=file]{color:var(--muted)}
.controls{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.search{flex:1}
.gallery{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px;margin-top:16px}
.card{background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.01));border-radius:12px;padding:10px;border:1px solid rgba(255,255,255,0.03);display:flex;flex-direction:column;gap:10px}
.card img{width:100%;aspect-ratio:4/3;object-fit:cover;border-radius:8px}
.meta{display:flex;justify-content:space-between;align-items:center}
.meta .title{font-weight:700}
.meta .artist{font-size:14px;color:var(--muted)}
.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:linear-gradient(0deg, rgba(0,0,0,0.6), rgba(0,0,0,0.6));}
.modal .box{width:90%;max-width:760px;background:var(--card);padding:18px;border-radius:12px}
@media (max-width:900px){
    :root{--header-height:56px}
    .grid{grid-template-columns:1fr;}
    .panel{padding:12px;font-size:15px}
    header{padding:8px 12px;height:56px}
    header h1{font-size:16px}
    .btn{padding:8px 9px;font-size:13px}
    .wrap{margin:16px auto;padding:12px}
    .gallery{grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:12px}
    .avatar{width:80px;height:80px;font-size:24px}
    .small{font-size:13px}
    label{font-size:12px}
    .modal .box{padding:14px;max-width:90%}
}
@media (max-width:600px){
    :root{--header-height:56px;--base-font:16px}
    html{font-size:16px}
    .wrap{margin:12px auto;padding:12px;max-width:100%}
    .panel{padding:12px;font-size:15px;margin:0}
    header{padding:6px 10px;height:56px}
    header h1{font-size:14px}
    .nav{gap:4px}
    .btn{padding:6px 8px;font-size:12px;border-radius:6px}
    .hero-content{bottom:8%;padding:0 12px}
    .hero-content h2{font-size:clamp(20px,7vw,30px)}
    .hero-content p{font-size:clamp(13px,3.5vw,16px);margin:8px 0 14px}
    .hero-btn,.hero-btn-signup{padding:8px 18px;font-size:13px}
    #slide-dots span{width:10px;height:10px;margin:0 4px}
    .gallery{grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:10px;margin-top:12px}
    .card{padding:8px;gap:8px}
    .card img{height:120px}
    .avatar{width:72px;height:72px;font-size:22px}
    .small{font-size:12px}
    label{font-size:12px}
    input[type=text],input[type=password],textarea,select{padding:8px;font-size:14px}
    .form{gap:8px}
    .controls{gap:6px}
    .modal .box{width:95%;padding:12px;border-radius:10px}
    .arrow.left{left:10px;font-size:28px}
    .arrow.right{right:10px;font-size:28px}
}

@media (max-width:480px){
    :root{--header-height:48px}
    header{padding:4px 8px;height:48px;flex-wrap:wrap}
    header h1{font-size:13px}
    header .nav{gap:2px}
    .btn{padding:4px 6px;font-size:11px;border-radius:4px}
    .wrap{padding:10px}
    .panel{padding:10px;font-size:14px}
    .gallery{grid-template-columns:repeat(2,1fr);gap:8px}
    .card{padding:6px;gap:6px}
    .card img{height:100px}
    .hero-content{bottom:6%;padding:0 10px}
    .hero-content h2{font-size:clamp(18px,8vw,26px)}
    .hero-content p{font-size:clamp(12px,4vw,14px);margin:6px 0 12px}
    .hero-btn,.hero-btn-signup{padding:6px 14px;font-size:12px}
    .avatar{width:64px;height:64px;font-size:20px}
    input[type=text],input[type=password],textarea,select{padding:6px;font-size:13px}
    .modal .box{width:98%;padding:10px}
}

.hero-slide {
    position: absolute;
    top: 0; 
    left: 0;
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
    opacity: 0;
    transition: opacity 1.2s ease-in-out;
    pointer-events: none;
}

/* overlay to improve contrast on hero images */
.hero-slide::before{content:"";position:absolute;inset:0;background:linear-gradient(180deg, rgba(0,0,0,0.36), rgba(0,0,0,0.48));pointer-events:none}

.hero-slide.active {
    opacity: 1;
    pointer-events: auto;
}

.hero-content{position:absolute;bottom:12%;left:50%;transform:translateX(-50%);text-align:center;color:white;text-shadow:0 3px 10px rgba(0,0,0,0.6);padding:0 16px}
.hero-content h2{font-size:clamp(28px,4.5vw,48px);margin:0;font-weight:700;line-height:1.05}
.hero-content p{font-size:clamp(14px,2.2vw,20px);margin:10px 0 18px}
.hero-btn{padding:10px 22px;font-size:15px;border:none;border-radius:30px;background:white;color:black;cursor:pointer;transition:0.3s}
.hero-btn:hover{background:#ddd}
#slide-arrows .arrow{position:absolute;top:50%;transform:translateY(-50%);font-size:40px;color:white;cursor:pointer;padding:10px;text-shadow:0 2px 8px rgba(0,0,0,0.5)}
.arrow.left{left:20px}
.arrow.right{right:20px}
#slide-dots{position:absolute;bottom:20px;width:100%;text-align:center}
#slide-dots span{display:inline-block;width:12px;height:12px;margin:0 5px;border-radius:50%;background:white;opacity:0.4;cursor:pointer}
#slide-dots .active-dot{opacity:1}
.hero-btn-signup {
  padding: 12px 26px;
  font-size: 16px;
  border: none;
  border-radius: 30px;
  background: #7c3aed;
  color: white;
  cursor: pointer;
  transition: 0.3s;
}
.hero-btn-signup:hover {
  background: #5a23b6;
}
/* New style for content views */
.view-content {
    display: none; 
    width: 100%; 
}
.view-content.active { 
    display: block; 
}





select {
    background-color: transparent !important;
    color: #e6eef6 !important;
    border: 1px solid rgba(255,255,255,0.08) !important;
    border-radius: 8px;
    padding: 10px;
    appearance: none;           /* hide default arrow */
    -webkit-appearance: none;   /* safari */
    -moz-appearance: none;      /* firefox */
}

/* Custom arrow */
select {
    background-image: url("data:image/svg+xml,%3Csvg width='10' height='6' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0 L5 6 L10 0' fill='%23e6eef6'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 12px center;
    background-size: 10px 6px;
}

/* Dropdown options */
select option {
    background-color: #0b1220;
    color: #e6eef6;
}







#slide-arrows {
    display: none !important;
}






/* Glow effect for Login + Signup modals */
.modal .box {
    box-shadow:
        0 0 15px rgba(124, 58, 237, 0.6),   /* purple glow */
        0 0 30px rgba(124, 58, 237, 0.3);   /* outer glow */
    transition: box-shadow 0.3s ease, transform 0.3s ease;
    border: 1px solid rgba(124, 58, 237, 0.4);
}

/* Slight pop-up animation on open */
.modal[style*="display: flex"] .box {
    transform: scale(1.05);
}



/* Override only for homepage */
/* Override only for homepage: full-bleed hero (subtract header height) */
#view-home {
    width: 100vw;
    height: calc(100vh - 64px);
    margin: 0;
    padding: 0;
    border-radius: 0;
    border: none;
    background: none; /* remove panel background */
    overflow: hidden;
}

/* Make slideshow fill the view-home area */
#view-home #slideshow {
    width: 100%;
    height: 100%;
    border-radius: 0;
    margin-bottom: 0;
}

/* Ensure hero slides stretch to the slideshow container */
.hero-slide {
    height: 100% !important;
}

/* Hamburger Menu Styles */
.hamburger-btn {
    display: none;
    flex-direction: column;
    gap: 5px;
    cursor: pointer;
    background: transparent;
    border: none;
    padding: 8px;
    align-items: center;
    z-index: 1000;
}

.hamburger-btn span {
    width: 24px;
    height: 2.5px;
    background: white;
    border-radius: 2px;
    transition: all 0.3s ease;
    display: block;
}

.hamburger-btn.active span:nth-child(1) {
    transform: rotate(45deg) translate(8px, 8px);
}

.hamburger-btn.active span:nth-child(2) {
    opacity: 0;
}

.hamburger-btn.active span:nth-child(3) {
    transform: rotate(-45deg) translate(8px, -8px);
}

header .nav {
    display: flex;
    gap: 8px;
}

@media (max-width:600px) {
    .hamburger-btn {
        display: flex;
    }
    
    header .nav {
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        flex-direction: column;
        gap: 0;
        background: rgba(11, 18, 32, 0.95);
        backdrop-filter: blur(10px);
        padding: 12px 0;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease;
        border-top: 1px solid rgba(255,255,255,0.06);
    }
    
    header .nav.active {
        max-height: 300px;
    }
    
    header .nav button {
        width: 100%;
        border: none;
        border-radius: 0;
        padding: 12px 16px;
        text-align: left;
        background: transparent;
        border-bottom: 1px solid rgba(255,255,255,0.03);
    }
    
    header .nav button:last-child {
        border-bottom: none;
    }
}
</style>
</head>
<body>
<header>
<h1>Artist Showcase</h1>
<button class="hamburger-btn" id="hamburger-toggle">
    <span></span>
    <span></span>
    <span></span>
</button>
<div class="nav">
<button class="btn" id="btn-view-home">Home</button>
<button class="btn ghost" id="btn-view-gallery">Gallery</button>
<button class="btn ghost" id="btn-view-upload">Upload</button>
<button class="btn ghost" id="btn-view-profile">My Profile</button>
<button class="btn" id="btn-logout" style="display:none">Log out</button>
<button class="btn" id="btn-login-header">Log In / Sign Up</button> 

</div>
</header>
<!-- Full-bleed homepage hero placed outside the centered wrap -->
<section class="view-content active" id="view-home">
    <div id="slideshow" style="position:relative;width:100%;height:100%;overflow:hidden;border-radius:0;margin-bottom:0">
        <div class="slide hero-slide active" style="background-image:url('https://www.pixelstalk.net/wp-content/uploads/images1/Artistic-Abstract-Wallpapers-Mobile.jpg');">
            <div class="hero-content"><h2>Join the Showcase!</h2><p>Create an account to upload, manage, and share your beautiful artworks.</p> </div>
        </div>
        <div class="slide hero-slide" style="background-image:url('https://www.pixelstalk.net/wp-content/uploads/image12/Awesome-Wallpaper-with-an-artistic-splashes-of-watercolor-in-warm-tones.jpg');">
        <div class="hero-content"><h2>Welcome to the Artist Showcase</h2><p>Discover creativity from artists worldwide. Upload, explore, and connect.</p></div>
        </div>
        <div class="slide hero-slide" style="background-image:url('https://www.pixelstalk.net/wp-content/uploads/images1/Artistic-Abstract-Wallpapers-Mobile.jpg');">
        <div class="hero-content"><h2>Showcase Your Talent</h2><p>Share your artworks with a global audience and build your artistic profile.</p></div>
        </div>
        <div class="slide hero-slide" style="background-image:url('https://www.pixelstalk.net/wp-content/uploads/image12/Awesome-Wallpaper-with-an-artistic-splashes-of-watercolor-in-warm-tones.jpg');">
        <div class="hero-content"><h2>Explore Diverse Art</h2><p>Browse artwork across different styles and mediums from creators everywhere.</p></div>
        </div>
        <div id="slide-arrows"><span class="arrow left" id="arrow-left">❮</span><span class="arrow right" id="arrow-right">❯</span></div>
        <div id="slide-dots"></div>
    </div>
</section>

<main class="wrap">
<div class="grid">
<section class="panel view-content" id="view-gallery" style="min-height:400px">
    <h2>Gallery</h2>
    <p>Discover creativity from artists worldwide.</p>
    <div id="gallery-container" class="gallery">
        </div>
</section>

<section class="panel view-content" id="view-upload" style="min-height:400px">
    <div style="max-width: 600px; margin: 0 auto; padding: 20px;">
        <h2>Upload New Artwork</h2>
        <p class="small" style="margin-bottom: 30px;">Fill out the details below to showcase your new creation to the world.</p>

        <form id="form-upload" class="form">
            <label for="art-title">Artwork Title</label>
            <input type="text" id="art-title" required placeholder="e.g., The Midnight Canvas">

            <label for="art-description">Description</label>
            <textarea id="art-description" rows="4" placeholder="Briefly describe your artwork, inspiration, and medium."></textarea>

            <label for="art-medium">Medium/Category</label>
            <select id="art-medium" required>
                <option value="">-- Select Medium --</option>
                <option value="painting">Painting</option>
                <option value="digital">Digital Art</option>
                <option value="sculpture">Sculpture</option>
                <option value="photography">Photography</option>
                <option value="mixed">Mixed Media</option>
            </select>

            <label for="art-file">Image File (PNG, JPG, GIF)</label>
            <input type="file" id="art-file" accept="image/*" required>
            
            <div class="controls" style="justify-content:flex-end; margin-top: 20px;">
                <button type="submit" class="btn">Upload Artwork</button>
            </div>
        </form>
    </div>
</section>

<section class="panel view-content" id="view-profile" style="min-height:400px; text-align:center;">
    <h2>My Profile</h2>
    <p class="small" style="margin-bottom: 30px;">This section will display your user profile and artwork management tools.</p>
    <div class="profile-card" id="main-profile-user" style="margin: 20px auto; max-width: 300px;">
        <div class="avatar" id="main-avatar">A</div>
        <div style="margin-top: 10px;"><strong id="main-artist-name">Artist</strong></div>
        <div class="small" id="main-artist-email">email@example.com</div>
        <div style="display:flex;gap:8px;margin-top:20px; justify-content:center;">
            <button class="btn ghost" id="btn-edit-profile-main">Edit</button>
            <button class="btn" id="btn-new-upload-main">New Upload</button>
        </div>
    </div>
    
    <div style="margin-top: 30px;">
        <button class="btn ghost" style="background: transparent; color: #f44336; border-color: rgba(244, 67, 54, 0.5);" id="btn-delete-account">Delete Account</button>
    </div>

</section>

</div>
</main>


<div class="modal" id="modal-login">
<div class="box">
<h2>Log In</h2>
<form id="form-login" class="form">
<label>Email</label>
<input type="text" id="login-email" required>
<label>Password</label>
<input type="password" id="login-password" required>
<div class="controls">
<button type="submit" class="btn">Log In</button>
<button type="button" class="btn ghost" id="btn-login-close">Cancel</button>
</div>
<p class="small" style="text-align:center;margin-top:10px;color:#ccc;">Don't have an account? <a href="#" id="link-to-signup" style="color:var(--accent);text-decoration:none;">Sign Up here</a></p>
</form>
</div>
</div>

<div class="modal" id="modal-signup">
<div class="box">
<h2>Sign Up</h2>
<form id="form-signup" class="form">
<label>Name</label>
<input type="text" id="signup-name" required>
<label>Email</label>
<input type="text" id="signup-email" required>
<label>Password</label>
<input type="password" id="signup-password" required>
<div class="controls">
<button type="submit" class="btn">Sign Up</button>
<button type="button" class="btn ghost" id="btn-signup-close">Cancel</button>
</div>
<p class="small" style="text-align:center;margin-top:10px;color:#ccc;">Already an artist? <a href="#" id="link-to-login" style="color:var(--accent);text-decoration:none;">Log In here</a></p>
</form>
</div>
</div>

<div class="modal" id="modal-edit-profile">
<div class="box">
<h2>Edit Profile</h2>
<form id="form-edit-profile" class="form">
    <label>Name</label>
    <input type="text" id="edit-name" required>
    
    <label>Profile Image (Avatar)</label>
    <div style="display:flex; align-items:center; gap:10px;">
        <div class="avatar" id="edit-avatar-preview">A</div>
        <button type="button" class="btn ghost" id="btn-change-avatar" style="flex-grow: 1;">Change Avatar</button>
    </div>
    
    <div class="controls" style="margin-top: 15px;">
        <button type="submit" class="btn">Save Changes</button>
        <button type="button" class="btn ghost" id="btn-edit-profile-close">Cancel</button>
    </div>
</form>
</div>
</div>

<script>
// Hamburger Menu Toggle
(function(){
    const hamburgerBtn = document.getElementById('hamburger-toggle');
    const navMenu = document.querySelector('.nav');
    
    if (!hamburgerBtn || !navMenu) return;
    
    hamburgerBtn.addEventListener('click', () => {
        hamburgerBtn.classList.toggle('active');
        navMenu.classList.toggle('active');
    });
    
    // Close menu when a nav button is clicked
    navMenu.querySelectorAll('button').forEach(btn => {
        btn.addEventListener('click', () => {
            hamburgerBtn.classList.remove('active');
            navMenu.classList.remove('active');
        });
    });
    
    // Close menu when window resizes to desktop size
    window.addEventListener('resize', () => {
        if (window.innerWidth > 600) {
            hamburgerBtn.classList.remove('active');
            navMenu.classList.remove('active');
        }
    });
})();

// Slideshow
(function(){
const slides = Array.from(document.querySelectorAll('.hero-slide'));
const dotsContainer = document.getElementById('slide-dots');
const leftArrow = document.getElementById('arrow-left');
const rightArrow = document.getElementById('arrow-right');
if(!slides.length||!dotsContainer) return;
let idx=0;
function updateSlides(){slides.forEach((s,i)=>s.classList.toggle('active',i===idx));
Array.from(dotsContainer.children).forEach((d,i)=>d.classList.toggle('active-dot',i===idx));}
slides.forEach((s,i)=>{const dot=document.createElement('span');dot.onclick=()=>{idx=i;updateSlides();};dotsContainer.appendChild(dot);});
if(leftArrow) leftArrow.onclick=()=>{idx=(idx-1+slides.length)%slides.length;updateSlides();};
if(rightArrow) rightArrow.onclick=()=>{idx=(idx+1)%slides.length;updateSlides();};
setInterval(()=>{idx=(idx+1)%slides.length;updateSlides();},6000);
updateSlides();
})();

// --- Artwork Data Storage and Rendering ---

function getArtworks() {
    try {
        const stored = localStorage.getItem('artworks');
        return stored ? JSON.parse(stored) : [];
    } catch (e) {
        console.error("Error reading artworks from localStorage:", e);
        return [];
    }
}

function saveArtworks(artworks) {
    localStorage.setItem('artworks', JSON.stringify(artworks));
}

// Array of placeholder image URLs

    // Array of placeholder image URLs
// Using Base64 data URIs to ensure images load even when running locally (file://)
const PLACEHOLDER_IMAGES = [
    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgNzUiPjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iNzUiIGZpbGw9IiM2MzY2RDAiLz48L3N2ZyI+', // Simple Purple placeholder
    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgNzUiPjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iNzUiIGZpbGw9IiM0QzQ3NjMiLz48L3N2ZyI+', // Simple Dark Green placeholder
    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgNzUiPjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iNzUiIGZpbGw9IiM5NDQ3QkQiLz48L3N2ZyI+', // Simple Magenta placeholder
    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgNzUiPjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iNzUiIGZpbGw9IiMyQTQzNjgiLz48L3N2ZyI+', // Simple Teal placeholder
    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgNzUiPjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iNzUiIGZpbGw9IiNFMDU3N0YiLz48L3N2ZyI+'  // Simple Pink placeholder
];
    

function getPlaceholderImage(index) {
    // Cycles through the placeholder images based on the item index
    return PLACEHOLDER_IMAGES[index % PLACEHOLDER_IMAGES.length];
}

// NEW: Function to remove a specific artwork
function removeArtwork(id) {
    if (confirm("Are you sure you want to remove this artwork?")) {
        let artworks = getArtworks();
        // Filter out the artwork with the matching ID
        artworks = artworks.filter(art => art.id !== id);
        saveArtworks(artworks);
        renderGallery(); // Re-render the gallery to show the updated list
        alert("Artwork removed successfully.");
    }
}


function renderGallery() {
    const container = document.getElementById('gallery-container');
    const artworks = getArtworks();
    
    let html = '';

    if (artworks.length === 0) {
        html = '<p style="text-align: center; color: var(--muted); margin-top: 50px;">No artwork uploaded yet. Upload your first masterpiece!</p>';
    } else {
        artworks.forEach((art, index) => {
            const imageUrl = art.imageUrl || getPlaceholderImage(index);
            
            html += `
                <div class="card">
                    <img src="${imageUrl}" alt="${art.title}" style="width: 100%; height: 160px; object-fit: cover; border-radius: 8px;"> 
        
                    <div class="meta">
                        <div>
                            <div class="title">${art.title}</div>
                            <div class="artist">${art.artistName}</div>
                        </div>
                        <button class="btn ghost" style="padding: 4px 8px; font-size: 13px;" onclick="removeArtwork(${art.id})">Remove</button>
                    </div>
                </div>
            `;
        });
    }

    container.innerHTML = html;
}

// --- SPA View Switching Logic ---

function switchView(viewId) {
    // 1. Deactivate all nav buttons and hide all content views
    document.querySelectorAll('.view-content').forEach(view => {
        view.classList.remove('active');
        view.style.display = 'none';
    });
    document.querySelectorAll('.nav button').forEach(btn => {
        // Only target the main view buttons
        if (btn.id.startsWith('btn-view-')) {
            btn.classList.remove('active');
            btn.classList.add('ghost');
        }
    });

    // 2. Activate the selected view and button
    const targetView = document.getElementById(`view-${viewId}`);
    const targetButton = document.getElementById(`btn-view-${viewId}`);

    if (targetView) {
        targetView.classList.add('active');
        targetView.style.display = 'block';
    }
    if (targetButton) {
        targetButton.classList.add('active');
        targetButton.classList.remove('ghost');
    }
    
    // 3. Special action for Gallery view: re-render content
    if (viewId === 'gallery') {
        renderGallery();
    }
}

// Attach listeners to all view buttons
document.getElementById('btn-view-home').onclick = () => switchView('home');
document.getElementById('btn-view-gallery').onclick = () => switchView('gallery');
document.getElementById('btn-view-upload').onclick = () => switchView('upload');
document.getElementById('btn-view-profile').onclick = () => switchView('profile');

// Set the initial view on load
switchView('home');


// --- Login/Signup/Edit Logic References ---

const btnLoginHeader=document.getElementById('btn-login-header');
const modalLogin=document.getElementById('modal-login');
const modalSignup=document.getElementById('modal-signup');
const btnLoginClose=document.getElementById('btn-login-close');
const btnSignupClose = document.getElementById('btn-signup-close');
const formLogin=document.getElementById('form-login');
const formSignup = document.getElementById('form-signup');
const btnLogout=document.getElementById('btn-logout');

const linkToSignup = document.getElementById('link-to-signup');
const linkToLogin = document.getElementById('link-to-login');

const mainArtistName=document.getElementById('main-artist-name');
const mainArtistEmail=document.getElementById('main-artist-email');
const mainAvatar = document.getElementById('main-avatar'); 

const modalEditProfile = document.getElementById('modal-edit-profile');
const btnEditProfileClose = document.getElementById('btn-edit-profile-close');
const formEditProfile = document.getElementById('form-edit-profile');
const editNameInput = document.getElementById('edit-name');
const editAvatarPreview = document.getElementById('edit-avatar-preview');
const btnChangeAvatar = document.getElementById('btn-change-avatar');

const formUpload = document.getElementById('form-upload');
const btnDeleteAccount = document.getElementById('btn-delete-account'); // Reference the new button


// --- Modal Display/Close Logic ---

btnLoginHeader.onclick=()=>{modalLogin.style.display='flex';}; 
btnLoginClose.onclick=()=>{modalLogin.style.display='none';};
btnSignupClose.onclick=()=>{modalSignup.style.display='none';}; 
btnEditProfileClose.onclick = () => {modalEditProfile.style.display = 'none';};


linkToSignup.onclick = (e) => {
    e.preventDefault();
    modalLogin.style.display = 'none';
    modalSignup.style.display = 'flex';
};

linkToLogin.onclick = (e) => {
    e.preventDefault();
    modalSignup.style.display = 'none';
    modalLogin.style.display = 'flex';
};

btnChangeAvatar.onclick = () => {
    alert('Image upload functionality is not fully implemented yet. Please only edit your name for now.');
};


// --- Form Submission Logic ---

// Log In Form Submission
formLogin.onsubmit=(e)=>{
    e.preventDefault();
    const email=document.getElementById('login-email').value.trim();
    const password=document.getElementById('login-password').value.trim();
    
    if(!email||!password)return alert('Enter email and password');
    
    const name=email.split('@')[0];
    localStorage.setItem('artistUser',JSON.stringify({email,name}));
    modalLogin.style.display='none';
    
    btnLoginHeader.style.display='none';
    btnLogout.style.display='inline-block';
    
    mainArtistName.textContent=name;
    mainArtistEmail.textContent=email;
    mainAvatar.textContent = name.charAt(0).toUpperCase();

    switchView('profile');
}; 

// Sign Up Form Submission
formSignup.onsubmit = (e) => {
    e.preventDefault();
    const email = document.getElementById('signup-email').value.trim();
    const name = document.getElementById('signup-name').value.trim();
    const password = document.getElementById('signup-password').value.trim();

    if (!email || !name || !password) return alert('Fill in all fields for sign up');

    localStorage.setItem('artistUser', JSON.stringify({ email, name }));
    modalSignup.style.display = 'none';
    
    btnLoginHeader.style.display = 'none';
    btnLogout.style.display = 'inline-block';

    mainArtistName.textContent = name;
    mainArtistEmail.textContent = email;
    mainAvatar.textContent = name.charAt(0).toUpperCase();

    switchView('profile');
    alert(`Welcome, ${name}! Your account has been created.`);
};

// Edit Profile Form Submission
formEditProfile.onsubmit = (e) => {
    e.preventDefault();
    const newName = editNameInput.value.trim();
    
    if (!newName) {
        alert('Name cannot be empty.');
        return;
    }

    let user = JSON.parse(localStorage.getItem('artistUser'));
    
    user.name = newName;
    localStorage.setItem('artistUser', JSON.stringify(user));

    mainArtistName.textContent = newName;
    mainAvatar.textContent = newName.charAt(0).toUpperCase();
    editAvatarPreview.textContent = newName.charAt(0).toUpperCase();

    modalEditProfile.style.display = 'none';
    alert('Profile updated successfully!');
};

// Upload Form Submission 
if (formUpload) {
    formUpload.onsubmit = (e) => {
        e.preventDefault();
        
        const user = JSON.parse(localStorage.getItem('artistUser'));
        if (!user) {
            alert('You must be logged in to upload artwork.');
            return;
        }

        const title = document.getElementById('art-title').value;
        const description = document.getElementById('art-description').value;
        const medium = document.getElementById('art-medium').value;
        const fileInput = document.getElementById('art-file');
        
        if (fileInput.files.length === 0) {
            return alert('Please select an image file to upload.');
        }

        const artworks = getArtworks();

        // Use a unique ID and assign a unique placeholder image URL
       const reader = new FileReader();
reader.onload = function(event) {
    const newArt = {
        id: Date.now(),
        title: title,
        description: description,
        medium: medium,
        artistName: user.name,
        imageUrl: event.target.result // REAL uploaded image
    };

    artworks.push(newArt);
    saveArtworks(artworks);

    formUpload.reset();
    alert(`Successfully uploaded: "${title}"!`);

    switchView('gallery');
};

reader.readAsDataURL(fileInput.files[0]);

        // 1. Save the new artwork
        artworks.push(newArt);
        saveArtworks(artworks);

        // 2. Clear the form fields and confirm
        formUpload.reset();
        alert(`Successfully uploaded: "${title}"! It is now being displayed in the Gallery.`);
        
        // 3. Render and switch to the Gallery view
        switchView('gallery');
    };
}


// --- Profile Button Handlers ---

// Open Edit Profile Modal
document.getElementById('btn-edit-profile-main').onclick = () => {
    const user = JSON.parse(localStorage.getItem('artistUser'));
    if (user) {
        editNameInput.value = user.name;
        editAvatarPreview.textContent = user.name.charAt(0).toUpperCase();
        modalEditProfile.style.display = 'flex';
    } else {
        alert('Please log in to edit your profile.');
    }
};

// Switch to Upload View
document.getElementById('btn-new-upload-main').onclick = () => {
    switchView('upload');
};

// NEW: Delete Account Logic
function deleteAccount() {
    if (!confirm("WARNING: Are you absolutely sure you want to delete your account? This action is permanent and will remove your profile and ALL your uploaded artwork.")) {
        return;
    }

    // 1. Clear user data
    localStorage.removeItem('artistUser');

    // 2. Clear all user-uploaded artworks
    localStorage.removeItem('artworks');

    // 3. Reset UI state
    document.getElementById('btn-login-header').style.display = 'inline-block';
    document.getElementById('btn-logout').style.display = 'none';
    
    // 4. Switch view and notify
    switchView('home');
    alert("Your account and all associated artwork data have been permanently deleted.");
}

// Hook up the Delete Account button
btnDeleteAccount.onclick = deleteAccount;


// Log out handler
btnLogout.onclick=()=>{
    localStorage.removeItem('artistUser');
    
    btnLoginHeader.style.display='inline-block';
    btnLogout.style.display='none';

    switchView('home');
};

// --- Hero Button Handlers ---

// Hero button Listener (opens Sign Up modal directly)
document.querySelectorAll('.hero-btn-signup').forEach(btn => {
  btn.onclick = () => {
    modalSignup.style.display = 'flex';
  };
});

// Logic for hero buttons to switch views
document.querySelectorAll('.hero-btn[data-action="gallery"]').forEach(btn => {
  btn.onclick = () => {
    switchView('gallery');
  };
});
document.querySelectorAll('.hero-btn[data-action="upload"]').forEach(btn => {
  btn.onclick = () => {
    switchView('upload');
  };
});

// --- Swipe Support for Mobile ---
(function () {
    const slideshow = document.getElementById("slideshow");
    if (!slideshow) return;

    let startX = 0;
    let endX = 0;

    slideshow.addEventListener("touchstart", (e) => {
        startX = e.changedTouches[0].clientX;
    });

    slideshow.addEventListener("touchend", (e) => {
        endX = e.changedTouches[0].clientX;
        handleSwipe();
    });

    function handleSwipe() {
        const threshold = 50; // minimum swipe distance
        if (endX - startX > threshold) {
            changeSlide(-1); // swipe right → previous slide
        } else if (startX - endX > threshold) {
            changeSlide(1); // swipe left → next slide
        }
    }

    function changeSlide(dir) {
        idx = (idx + dir + slides.length) % slides.length;
        updateSlides();
    }
})();

</script>
</body>
</html>